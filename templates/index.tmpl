<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <script type="text/javascript">
            var userId = prompt("userId?");
            if (userId !== null) {
                document.title = userId;
                var source = new EventSource("{{ .eventSourceHost }}?userId=" + userId);
                source.addEventListener(userId, function (ev) {
                    var msg = document.createTextNode("Message:" + ev.data);
                    var entry = document.createElement("p");
                    entry.appendChild(msg);
                    document.getElementById("messages").appendChild(entry);
                }, false);

            }
        </script>
    </head>
    <body>
        <h3>Messages</h3>
        <div id="messages"></div>
    </body>
</html>